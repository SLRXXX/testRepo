{
	"name": "SQL script 5",
	"properties": {
		"content": {
			"query": "IF NOT EXISTS (SELECT * FROM sys.objects WHERE NAME = 'NyTaxiTestLoads' AND TYPE = 'U')\nCREATE TABLE dbo.NyTaxiTestLoads\n\t(\n\t vendorID nvarchar(30),\n\t tpepPickupDateTime nvarchar(30),\n\t tpepDropoffDateTime nvarchar(30),\n\t passengerCount nvarchar(30),\n\t tripDistance real,\n\t puLocationId nvarchar(30),\n\t doLocationId nvarchar(30),\n\t startLon real,\n\t startLat real,\n\t endLon real,\n\t endLat real,\n\t rateCodeId nvarchar(30),\n\t storeAndFwdFlag nvarchar(30),\n\t paymentType nvarchar(30),\n\t fareAmount real,\n\t extra real,\n\t mtaTax real,\n\t improvementSurcharge nvarchar(30),\n\t tipAmount real,\n\t tollsAmount real,\n\t totalAmount real\n\t)\nWITH\n\t(\n\tDISTRIBUTION = ROUND_ROBIN,\n\t CLUSTERED COLUMNSTORE INDEX\n\t -- HEAP\n\t)\nGO\n\n--Uncomment the 4 lines below to create a stored procedure for data pipeline orchestrationâ€‹                 \n--CREATE PROC bulk_load_NyTaxiTestLoads\n--AS\n--BEGIN\nCOPY INTO dbo.NyTaxiTestLoads\n(vendorID 1, tpepPickupDateTime 2, tpepDropoffDateTime 3, passengerCount 4, tripDistance 5, puLocationId 6, doLocationId 7, startLon 8, startLat 9, endLon 10, endLat 11, rateCodeId 12, storeAndFwdFlag 13, paymentType 14, fareAmount 15, extra 16, mtaTax 17, improvementSurcharge 18, tipAmount 19, tollsAmount 20, totalAmount 21)\nFROM 'https://amnateuap2.dfs.core.windows.net/amnateuap2fs/nytaxidataset.snappy.parquet'\nWITH\n(\n\tFILE_TYPE = 'PARQUET'\n\t,MAXERRORS = 0\n\t,COMPRESSION = 'snappy'\n\t,IDENTITY_INSERT = 'OFF'\n)\n--END\nGO\n\nSELECT TOP 100 * FROM NyTaxiTestLoads\nGO",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"name": "testpool",
				"type": "SqlPool"
			}
		},
		"type": "SqlQuery"
	}
}